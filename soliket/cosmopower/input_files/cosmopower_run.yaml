# cobaya-run /Users/boris/Work/CLASS-SZ/SO-SZ/SOLikeT/soliket/cosmopower/input_files/cosmopower_evaluate.yaml -f

output: /Users/boris/Work/CLASS-SZ/SO-SZ/SOLikeT/soliket/cosmopower/chains/new_mac

likelihood:
  pyactlike.ACTPol_lite_DR4:
    stop_at_error: True



theory:
  soliket.cosmopower.cosmopower:
    path_to_trained_models: /Users/boris/Work/CLASS-SZ/SO-SZ/trained_emulators/cp_oct22_A/
    TT_emulator_name: TT_cp_NN_example
    TE_emulator_name: TE_cp_PCAplusNN_example
    EE_emulator_name: EE_cp_NN_example
params:
  omega_b:
    prior:
      min: 0.02
      max: 0.03
    ref:
      dist: norm
      loc: 0.022
      scale: 0.001
    proposal: 0.005
    latex: omega_b
  omega_cdm:
    prior:
      min: 0.10
      max: 0.14
    ref:
      dist: norm
      loc: 0.11
      scale: 0.01
    proposal: 0.01
    latex: omega_cdm
  # h:
  #   prior:
  #     min: 0.55
  #     max: 0.90
  #   ref:
  #     dist: norm
  #     loc: 0.6727
  #     scale: 0.006
  #   proposal: 0.006
  #   latex: h
  theta_s_1e2:
    prior:
      min: 0.5
      max: 10
    ref:
      dist: norm
      loc: 1.0416
      scale: 0.0004
    proposal: 0.0002
    latex: 100\theta_\mathrm{s}
    drop: true
  100*theta_s:
    value: 'lambda theta_s_1e2: theta_s_1e2'
    derived: false
  tau_reio:
    prior:
      dist: norm
      loc: 0.065
      scale: 0.015
    ref:
      dist: norm
      loc: 0.065
      scale: 0.002
    proposal: 0.002
    latex: \tau_\mathrm{reio}
  n_s:
    prior:
      min: 0.8
      max: 1.2
    ref:
      dist: norm
      loc: 0.96
      scale: 0.01
    proposal: 0.01
    latex: n_s
  logA:
    prior:
      min: 2.5
      max: 3.5
    ref:
      dist: norm
      loc: 3.05
      scale: 0.01
    proposal: 0.01
    latex: ln10^{10}A_s


  # pyactlike param
  yp2:
    prior:
      min: 0.9
      max: 1.1
    ref:
      dist: norm
      loc: 1.01
      scale: 0.005


sampler:
  #settings for covmat see https://cobaya.readthedocs.io/en/latest/sampler_mcmc.html
  mcmc:
    covmat: /Users/boris/Work/CLASS-SZ/SO-SZ/SOLikeT/soliket/cosmopower/covmats/CLASS2p8_ACTPol_lite_DR4_leakfix_yp2_baseLCDM_taup_hip_R0p01.covmat
    #covmat: auto
    Rminus1_stop: 0.01
    #drag: true #only possible when doing a multi-likelihood run with different speed for each likelihood
    proposal_scale: 1.9
    burn_in: 0
    max_tries: 5000
    learn_proposal: true
    # check_every: 30 #120
  # evaluate:
  #   override:
  #     omega_b: 0.0223
  #     omega_cdm: 0.115
  #     h: 0.7
  #     tau_reio: 0.06
  #     n_s: 0.96
  #     logA: 3.07
  #
  #     yp2 : 1.02




# debug : True
